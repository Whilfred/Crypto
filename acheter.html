<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ExCryp - Échange USDT</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body {
    font-family: 'Arial', sans-serif;
    background: #f4f6f8;
    padding-bottom: 80px;
    margin: 0;
}
header {
    position: fixed;
    top: 0;
    width: 100%;
    background: #007bff;
    color: #fff;
    text-align: center;
    font-weight: bold;
    font-size: 1.2rem;
    padding: 15px 0;
    z-index: 1050;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}
main {
    max-width: 600px;
    margin: 90px auto 40px;
    padding: 20px;
}
.block {
    background: #fff;
    border-radius: 15px;
    padding: 20px;
    margin-bottom: 25px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}
.block h5 {
    color: #007bff;
    margin-bottom: 15px;
    font-weight: 600;
}
select, input {
    width: 100%;
    padding: 12px;
    margin-top: 8px;
    border-radius: 10px;
    border: 1px solid #ccc;
    font-size: 1rem;
}
button {
    width: 100%;
    padding: 14px;
    background: #28a745;
    border: none;
    border-radius: 10px;
    font-weight: bold;
    font-size: 1.1rem;
    color: white;
    transition: 0.3s;
}
button:hover {
    background: #218838;
}
.price-box {
    text-align: center;
    font-weight: bold;
    margin-top: 15px;
    background: #e9f7ef;
    color: #28a745;
    padding: 15px;
    border-radius: 12px;
    font-size: 1.2rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}
.crypto-logo {
    width: 60px;
    display: block;
    margin: 15px auto;
}
#mobileFields select, #mobileFields input {
    margin-top: 10px;
}
</style>
</head>
<body>

<header>ExCryp - Échange USDT</header>

<main>
<!-- JE DONNE -->
<div class="block">
    <h5>Je donne</h5>
    <select id="giveSelect">
        <option value="FCFA">Mobile Money (FCFA)</option>
        <option value="USDT">USDT</option>
    </select>

    <input id="giveAmount" type="number" placeholder="Montant">

    <select id="giveNetwork"></select>

    <!-- Mobile Money -->
    <div id="mobileFields">
        <select id="country">
            <option value="+229">Bénin (+229)</option>
            <option value="+226">Burkina Faso (+226)</option>
            <option value="+225">Côte d’Ivoire (+225)</option>
        </select>

        <select id="operator">
            <option>Orange Money</option>
            <option>MTN MoMo</option>
            <option>Moov Money</option>
            <option>Celtiis</option>
        </select>

        <input id="mobileNumber" type="tel" placeholder="Numéro Mobile Money">
    </div>
</div>

<!-- JE REÇOIS -->
<div class="block">
    <h5>Je reçois</h5>
    <div id="priceBox" class="price-box"></div>
    <img id="cryptoLogo" class="crypto-logo" src="https://assets.coingecko.com/coins/images/325/thumb/Tether-logo.png" alt="USDT">
</div>

<button>Continuer</button>

</main>

<script>
const giveSelect = document.getElementById("giveSelect");
const giveAmount = document.getElementById("giveAmount");
const giveNetwork = document.getElementById("giveNetwork");
const mobileFields = document.getElementById("mobileFields");
const priceBox = document.getElementById("priceBox");
const cryptoLogo = document.getElementById("cryptoLogo");

// USDT rates
const rates = {
    FCFA_to_USDT: 607.88,   // si on donne FCFA
    USDT_to_FCFA: 559.75    // si on donne USDT
};

const usdtNetworks = ["TRC20","ERC20","BEP20"];
function updateUI(){
    const give=giveSelect.value;
    const amount=Number(giveAmount.value);
    const selectedOption=country.options[country.selectedIndex];
    countryFlag.src=selectedOption.getAttribute('data-flag');

    const cryptoLogo=document.getElementById("cryptoLogo");
    const paymentLogos=document.getElementById("paymentLogos");

    // Clear payment logos
    paymentLogos.innerHTML = "";

    if(give==="FCFA"){
        // On donne Mobile Money
        mobileFields.style.display="block";
        giveNetwork.style.display="none";

        // Montant
        if(amount>=3000 && amount<=200000){
            priceBox.textContent=`≈ ${(amount/rates.FCFA_to_USDT).toFixed(6)} USDT`;
        } else {
            priceBox.textContent="";
        }

        // Logo "Je reçois" = USDT
        cryptoLogo.src = "https://i.pinimg.com/1200x/a4/40/d4/a440d4b512f4d2b9b63d3ab8818fc9e3.jpg";
    } else {
        // On donne USDT
        mobileFields.style.display="none";
        giveNetwork.style.display="block";
        giveNetwork.innerHTML="";
        usdtNetworks.forEach(n=>{
            let o=document.createElement("option");
            o.textContent=n;
            giveNetwork.appendChild(o);
        });

        if(amount>0) priceBox.textContent=`≈ ${(amount*rates.USDT_to_FCFA).toLocaleString()} FCFA`;
        else priceBox.textContent="";

        // Logo "Je reçois" = Mobile Money choisi
        let operator = document.getElementById("operator").value;
        let logoUrl = "";
        if(operator==="Orange Money") logoUrl="https://i.pinimg.com/736x/e2/cc/bf/e2ccbf284b0f18ae6e8dc544ac097f4c.jpg";
        else if(operator==="MTN MoMo") logoUrl="https://i.pinimg.com/1200x/f2/f9/38/f2f9385a59cf088b7b77472f3636d4fb.jpg";
        else if(operator==="Wave") logoUrl="https://upload.wikimedia.org/wikipedia/commons/2/28/Wave_logo.png";
        else if(operator==="Moov Money") logoUrl="https://upload.wikimedia.org/wikipedia/commons/1/1b/Moov_Money_logo.png";
        else if(operator==="Celtiis") logoUrl="https://upload.wikimedia.org/wikipedia/commons/3/37/Celtiis_logo.png";

        cryptoLogo.src = logoUrl;
    }
}

// Ajouter updateUI à l'événement change de l'opérateur
document.getElementById("operator").addEventListener("change", updateUI);

giveSelect.addEventListener("change",updateUI);
giveAmount.addEventListener("input",updateUI);
country.addEventListener("change",updateUI);

updateUI();
</script>

</body>
</html>
