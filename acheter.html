<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Changer - ExCryp</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{padding-top:60px;padding-bottom:70px;background:#f8f9fa}
header{position:fixed;top:0;width:100%;background:#007bff;color:#fff;text-align:center;padding:10px}
main{max-width:600px;margin:auto;background:#fff;padding:25px;border-radius:10px}
.block{border:1px solid #ddd;border-radius:10px;padding:15px;margin-bottom:20px}
.block h5{color:#007bff}
select,input{width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;margin-top:10px}
button{width:100%;padding:12px;background:#28a745;border:none;border-radius:8px;color:white}
.price-box{text-align:center;font-weight:bold;margin-top:10px;background:#f1f3f5;padding:10px;border-radius:8px}
.crypto-logo{width:40px;display:block;margin:10px auto}
</style>
</head>

<body>

<header><strong>ExCryp</strong></header>

<main>

<h4 class="text-center mb-4">Échange rapide</h4>

<!-- JE DONNE -->
<div class="block">
<h5>Je donne</h5>

<select id="giveSelect">
  <option value="FCFA">Mobile Money (FCFA)</option>
  <option value="USDT">USDT</option>
  <option value="BTC">BTC</option>
  <option value="ETH">ETH</option>
  <option value="BNB">BNB</option>
  <option value="SOL">SOL</option>
  <option value="XRP">XRP</option>
  <option value="ADA">ADA</option>
  <option value="DOGE">DOGE</option>
  <option value="TRX">TRX</option>
  <option value="MATIC">MATIC</option>
  <option value="AVAX">AVAX</option>
  <option value="DOT">DOT</option>
  <option value="LTC">LTC</option>
  <option value="SHIB">SHIB</option>
  <option value="LINK">LINK</option>
  <option value="ATOM">ATOM</option>
  <option value="XLM">XLM</option>
  <option value="NEAR">NEAR</option>
  <option value="UNI">UNI</option>
</select>

<img id="giveLogo" class="crypto-logo">

<input id="giveAmount" type="number" placeholder="Montant">

<select id="giveNetwork"></select>

<!-- Mobile Money -->
<div id="mobileFields">
  <select>
    <option>Burkina Faso (+226)</option>
    <option>Côte d’Ivoire (+225)</option>
    <option>Sénégal (+221)</option>
  </select>

  <select>
    <option>Orange Money</option>
    <option>MTN MoMo</option>
    <option>Moov Money</option>
  </select>

  <input type="tel" placeholder="Numéro Mobile Money">
</div>

</div>

<!-- JE REÇOIS -->
<div class="block">
<h5>Je reçois</h5>

<select id="receiveSelect">
  <option value="USDT">USDT</option>
  <option value="BTC">BTC</option>
  <option value="ETH">ETH</option>
</select>

<select id="receiveNetwork"></select>
<input id="walletInput" placeholder="Adresse wallet">

<div id="priceBox" class="price-box"></div>
</div>

<button>Continuer</button>

</main>

<script>
const giveSelect = document.getElementById("giveSelect");
const receiveSelect = document.getElementById("receiveSelect");
const giveNetwork = document.getElementById("giveNetwork");
const receiveNetwork = document.getElementById("receiveNetwork");
const giveLogo = document.getElementById("giveLogo");
const walletInput = document.getElementById("walletInput");
const mobileFields = document.getElementById("mobileFields");
const priceBox = document.getElementById("priceBox");
const giveAmount = document.getElementById("giveAmount");

const prices = {USDT:600,BTC:25000000,ETH:1500000,BNB:300000,SOL:60000};
const logos = coin => `https://cryptologos.cc/logos/${coin.toLowerCase()}-${coin.toLowerCase()}-logo.png`;

const networks = {
USDT:["TRC20","ERC20","BEP20"],
BTC:["Bitcoin"],
ETH:["ERC20"],
BNB:["BEP20"],
SOL:["Solana"]
};

function updateUI(){
const give = giveSelect.value;
const receive = receiveSelect.value;
const amount = giveAmount.value;

giveLogo.style.display = give !== "FCFA" ? "block" : "none";
giveLogo.src = give !== "FCFA" ? logos(give) : "";

mobileFields.style.display = give === "FCFA" ? "block" : "none";
giveNetwork.style.display = give !== "FCFA" ? "block" : "none";

if(give !== "FCFA"){
  giveNetwork.innerHTML="";
  networks[give]?.forEach(n=>{
    const o=document.createElement("option");o.textContent=n;giveNetwork.appendChild(o);
  });
  priceBox.textContent = amount ? `≈ ${(amount*prices[give]).toLocaleString()} FCFA` : "";
  receiveSelect.style.display="none";
  receiveNetwork.style.display="none";
  walletInput.style.display="none";
}else{
  receiveSelect.style.display="block";
  receiveNetwork.style.display="block";
  walletInput.style.display="block";
  receiveNetwork.innerHTML="";
  networks[receive].forEach(n=>{
    const o=document.createElement("option");o.textContent=n;receiveNetwork.appendChild(o);
  });
  if(amount>=3000){
    const qty=(amount/prices[receive]).toFixed(6);
    priceBox.textContent=`≈ ${qty} ${receive}`;
  }else{
    priceBox.textContent="Minimum 3000 FCFA";
  }
}
}

giveSelect.onchange=updateUI;
receiveSelect.onchange=updateUI;
giveAmount.oninput=updateUI;
updateUI();
</script>

</body>
</html>
